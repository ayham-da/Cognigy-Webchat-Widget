{"code":"/*!\n * speech-input.webchat-plugin.js v2.18.4\n * https://github.com/Cognigy/WebchatWidget/tree/v2.18.4\n */!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=5)}([function(e,t){if(!window.__COGNIGY_WEBCHAT)throw new Error(\"Cognigy Webchat v2.7 or higher has to be loaded before this plugin\");e.exports=window.__COGNIGY_WEBCHAT.React},function(e,t,n){var i=n(0);function r(e){return i.createElement(\"svg\",e,[i.createElement(\"path\",{d:\"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z\",key:0}),i.createElement(\"path\",{d:\"M0 0h24v24H0z\",fill:\"none\",key:1})])}r.defaultProps={width:\"24\",height:\"24\",viewBox:\"0 0 24 24\"},e.exports=r,r.default=r},function(e,t,n){var i=n(0);function r(e){return i.createElement(\"svg\",e,[i.createElement(\"path\",{d:\"M0 0h24v24H0zm0 0h24v24H0z\",fill:\"none\",key:0}),i.createElement(\"path\",{d:\"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z\",key:1})])}r.defaultProps={width:\"24\",height:\"24\",viewBox:\"0 0 24 24\"},e.exports=r,r.default=r},function(e,t,n){var i=n(0);function r(e){return i.createElement(\"svg\",e,[i.createElement(\"path\",{d:\"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z\",key:0}),i.createElement(\"path\",{d:\"M0 0h24v24H0z\",fill:\"none\",key:1})])}r.defaultProps={width:\"24\",height:\"24\",viewBox:\"0 0 24 24\"},e.exports=r,r.default=r},function(e,t,n){var i=n(0);function r(e){return i.createElement(\"svg\",e,[i.createElement(\"path\",{d:\"M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z\",key:0}),i.createElement(\"path\",{d:\"M0 0h24v24H0z\",fill:\"none\",key:1})])}r.defaultProps={width:\"24\",height:\"24\",viewBox:\"0 0 24 24\"},e.exports=r,r.default=r},function(e,t,n){\"use strict\";n.r(t);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=({React:e,styled:t})=>{const r=n(1),o=n(2),c=n(3),s=t.form(({theme:e})=>({display:\"block\",position:\"relative\",margin:0,backgroundColor:\"white\",borderBottomLeftRadius:2*e.unitSize,borderBottomRightRadius:2*e.unitSize,borderBottomColor:\"transparent\",borderBottomStyle:\"solid\",borderBottomWidth:2,transition:\"border-bottom .2s ease-out\",\"&.active\":{borderBottomColor:e.primaryColor}})),a=t.input(({theme:e})=>({display:\"block\",height:1.5*e.blockSize,border:\"none\",width:\"100%\",boxSizing:\"border-box\",paddingLeft:3*e.unitSize,paddingRight:9*e.unitSize,outline:\"none\",backgroundColor:\"transparent\",\"&.interim\":{fontStyle:\"italic\"}})),l=t.button(({theme:e})=>({display:\"block\",width:5*e.unitSize,height:5*e.unitSize,position:\"absolute\",right:\"50%\",top:\"50%\",marginTop:5*-e.unitSize/2,marginRight:5*-e.unitSize/2,backgroundColor:\"transparent\",border:\"none\",fill:\"hsla(0, 0%, 0%, .54)\",cursor:\"pointer\",transition:\"right .2s ease-out\",\"&.right\":{right:5.5*e.unitSize},\"&[disabled]\":{fill:\"hsla(0, 0%, 0%, .2)\",cursor:\"default\"}}));return class extends e.Component{constructor(e){super(e),i(this,\"handleResult\",e=>{const t=e.results[e.resultIndex],{isFinal:n}=t,{transcript:i}=t[0];this.setState({result:i,isFinalResult:n}),n&&this.props.onSendMessage(i)}),i(this,\"toggle\",()=>{const{active:e,speechRecognition:t}=this.state;e?t.stop():t.start();const n={active:!e};e&&(n.result=\"\",n.isFinalResult=!1),this.setState(n)});const t=(()=>{try{return new SpeechRecognition}catch(e){}try{return new webkitSpeechRecognition}catch(e){}return null})();t&&(t.continuous=!0,t.interimResults=!0,t.onresult=this.handleResult,e.config.settings.STTLanguage&&(t.lang=e.config.settings.STTLanguage)),this.state={speechRecognition:t,active:!1,result:\"\",isFinalResult:!1}}componentDidUpdate(){this.state.speechRecognition&&this.props.config.settings.STTLanguage&&(this.state.speechRecognition.lang=this.props.config.settings.STTLanguage)}isSupported(){return!!this.state.speechRecognition}renderMicIcon(){return this.isSupported()?this.state.active?e.createElement(o,null):e.createElement(r,null):e.createElement(c,null)}render(){const{result:t,isFinalResult:n,active:i}=this.state,r=[i&&\"right\"].filter(e=>\"string\"==typeof e).join(\" \"),o=[!n&&\"interim\"].filter(e=>\"string\"==typeof e).join(\" \"),c=[i&&\"active\"].filter(e=>\"string\"==typeof e).join(\" \");return e.createElement(s,{className:c},e.createElement(a,{className:o,disabled:!0,value:t}),e.createElement(l,{className:r,disabled:!this.isSupported(),onClick:this.toggle,type:\"button\"},this.renderMicIcon()))}}},o=({React:e,styled:t})=>{const i=n(4);return{type:\"select\",id:\"speech\",component:r({React:e,styled:t}),icon:i}};var c;c=o,window&&(window.cognigyWebchatInputPlugins=[...window.cognigyWebchatInputPlugins||[],c],console.log(\"added cognigy input plugin\"));t.default=o}]);","extractedComments":[]}